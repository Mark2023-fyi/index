<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Itinerario: Austin a Medell√≠n</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto+Mono:wght@700&display=swap');
        body{font-family:'Poppins',sans-serif;background-color:#f0f2f5;color:#333;margin:0;padding:20px}.container{max-width:800px;margin:0 auto}h1,h2{text-align:center;color:#1c2a39}h1{font-size:2.2em;margin-bottom:15px}h2{font-size:1.5em;margin:40px 0 20px;color:#007bff}.header-info{text-align:center;margin-bottom:30px;color:#555}.update-notice{font-size:1em;font-weight:600;margin:0 0 5px 0;display:flex;justify-content:center;align-items:center;gap:8px}.timestamp{font-size:0.8em;color:#777;margin:0}.countdown-container,.weather-container{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-around;gap:15px;margin-bottom:15px}.countdown-card{background:#1d2b38;color:#fff;padding:20px;border-radius:12px;text-align:center;box-shadow:0 8px 20px rgba(0,0,0,.15);flex:1;min-width:280px;min-height:105px;display:flex;flex-direction:column;justify-content:center}.countdown-card h3{margin-top:0;margin-bottom:10px;font-size:1.1em;font-weight:400;color:#00aaff}.countdown-card .arrival-date{margin:-5px 0 15px 0;font-size:0.85em;color:#9ab;opacity:0.9}.timer{display:flex;justify-content:center;gap:15px;font-family:'Roboto Mono',monospace}.time-block{display:flex;flex-direction:column;min-width:55px}.time-block span:first-child{font-size:2.2em;font-weight:700;color:#f0f2f5;line-height:1}.time-block span:last-child{font-size:.7em;text-transform:uppercase;color:#9ab}.timeline{position:relative;padding:20px 0}.timeline::before{content:'';position:absolute;top:0;left:21px;height:100%;width:4px;background:#e0e0e0}.timeline-item{padding:10px 40px;position:relative;margin-left:25px;margin-bottom:20px}.timeline-item::before{content:attr(data-icon);position:absolute;left:-21px;top:50%;transform:translateY(-50%);width:42px;height:42px;border-radius:50%;background:#fff;border:3px solid #007bff;text-align:center;line-height:42px;font-size:1.8em}.item-content{background:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.08)}.item-date{font-weight:600;color:#007bff;font-size:1.1em;margin-bottom:8px;display:flex;align-items:center}.tbd{color:#7f8c8d;font-style:italic}
        .flight-tracker{border-top:1px solid #eee;margin-top:15px;padding-top:15px;display:flex;flex-direction:column;gap:10px;align-items:center}
        .flight-tracker h4{margin:0 0 5px 0;font-weight:600;color:#333;display:flex;align-items:center;gap:8px}
        .live-indicator{display:inline-block;width:10px;height:10px;background-color:#ff4d4d;border-radius:50%;animation:blinker 1.5s linear infinite}@keyframes blinker{50%{opacity:0}}.flight-buttons{display:flex;flex-wrap:wrap;gap:15px;justify-content:center}
        .flight-info{display:flex;flex-direction:column;align-items:center}
        .flight-button{display:inline-block;background-color:#007bff;color:#fff;padding:8px 15px;border-radius:5px;text-decoration:none;font-weight:500;font-size:0.9em;transition:background-color .2s,transform .2s}.flight-button:hover{background-color:#0056b3;transform:translateY(-2px)}
        .flight-route{font-size:0.8em;color:#555;margin-top:4px}
        .info-card{background-color:#fff;border-radius:8px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,.08);margin-bottom:20px}.info-card h3{margin-top:0;color:#007bff}.info-card ul{padding-left:20px;margin:0}
        .weather-card{background:#fff;border:1px solid #ddd;color:#333;padding:15px;border-radius:12px;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,.08);flex:1;min-width:280px;min-height:105px;display:flex;flex-direction:column;justify-content:center}
        .weather-card .city{font-weight:600;font-size:1.2em;margin:0}.weather-card .time{font-family:'Roboto Mono',monospace;font-size:1.5em;margin:5px 0;color:#007bff}.weather-card .details{display:flex;justify-content:center;align-items:center;gap:10px;margin:5px 0 0 0}.weather-card .icon{font-size:2.5em}.weather-card .temp{font-size:1.5em;font-weight:600}
        /* --- ESTILOS PARA ETIQUETAS Y FESTIVOS --- */
        .label-cambio{background-color:#ff9800;color:#fff;padding:2px 8px;border-radius:10px;font-size:0.65em;font-weight:700;margin-left:10px;text-transform:uppercase;}
        .festivo-item .item-content{background-color:#e3f2fd;}
    </style>
</head>
<body>

    <div class="container">
        <h1>ü§† De Austin a Medell√≠n üá®üá¥</h1>

        <div class="header-info">
            <h4 class="update-notice"><span class="live-indicator"></span>Itinerario en Vivo</h4>
            <p class="timestamp">√öltima actualizaci√≥n: <span id="last-updated-date"></span></p>
        </div>

        <div class="countdown-container">
            <div class="countdown-card" id="card-nathan"></div>
            <div class="countdown-card" id="card-ron-anyela"></div>
        </div>
        
        <div class="weather-container">
            <div id="weather-austin" class="weather-card">Cargando clima...</div>
            <div id="weather-medellin" class="weather-card">Cargando clima...</div>
        </div>


        <div class="timeline">
            <h2>Diciembre 2025</h2>
            <div class="timeline-item" data-icon="üõ¨"><div class="item-content"><div class="item-date">S√°bado, 13 de Dic</div><p class="item-description"><strong>PM:</strong> LLegada de Nathan a Medellin desde USA.</p><div class="flight-tracker"><h4><span class="live-indicator"></span>Seguimiento de Vuelos en Vivo:</h4><div class="flight-buttons"><div class="flight-info"><a href="https://es.flightaware.com/live/flight/CMP716" target="_blank" class="flight-button">‚úàÔ∏è Ver Vuelo CM716</a><span class="flight-route">Austin ‚Üí Panam√°</span></div><div class="flight-info"><a href="https://es.flightaware.com/live/flight/CMP155" target="_blank" class="flight-button">‚úàÔ∏è Ver Vuelo CM155</a><span class="flight-route">Panam√° ‚Üí Medell√≠n</span></div></div></div></div></div>
            <div class="timeline-item" data-icon="üöó"><div class="item-content"><div class="item-date">Domingo, 14 de Dic</div><p class="item-description">Salida de Nathan de Medellin para Bogota/Meta.</p></div></div>
            <div class="timeline-item" data-icon="‚õ∞Ô∏è"><div class="item-content"><div class="item-date">Lunes, 15 de Dic</div><p class="item-description tbd">Estad√≠a fuera de Medell√≠n. Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="‚õ∞Ô∏è"><div class="item-content"><div class="item-date">Martes, 16 de Dic</div><p class="item-description tbd">Estad√≠a fuera de Medell√≠n. Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="‚õ∞Ô∏è"><div class="item-content"><div class="item-date">Mi√©rcoles, 17 de Dic</div><p class="item-description tbd">Estad√≠a fuera de Medell√≠n. Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="‚õ∞Ô∏è"><div class="item-content"><div class="item-date">Jueves, 18 de Dic</div><p class="item-description tbd">Estad√≠a fuera de Medell√≠n. Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="‚õ∞Ô∏è"><div class="item-content"><div class="item-date">Viernes, 19 de Dic</div><p class="item-description tbd">Estad√≠a fuera de Medell√≠n. Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="‚õ∞Ô∏è"><div class="item-content"><div class="item-date">S√°bado, 20 de Dic</div><p class="item-description tbd">Estad√≠a fuera de Medell√≠n. Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="üè†"><div class="item-content"><div class="item-date">Domingo, 21 de Dic <span class="label-cambio">Cambio</span></div><p class="item-description">Regreso de Nathan a Medellin.</p><div class="flight-tracker"><h4><span class="live-indicator"></span>Seguimiento de Vuelo en Vivo:</h4><div class="flight-buttons"><div class="flight-info"><a href="https://es.flightaware.com/live/flight/EFY821" target="_blank" class="flight-button">‚úàÔ∏è Ver Vuelo EFY821</a><span class="flight-route">Villavicencio ‚Üí Medell√≠n</span></div></div></div></div></div>
            <div class="timeline-item" data-icon="üìç"><div class="item-content"><div class="item-date">Lunes, 22 de Dic</div><p class="item-description tbd">Planes por determinar en Medell√≠n.</p></div></div>
            <div class="timeline-item" data-icon="üìç"><div class="item-content"><div class="item-date">Martes, 23 de Dic</div><p class="item-description tbd">Planes por determinar en Medell√≠n.</p></div></div>
            <div class="timeline-item festivo-item" data-icon="üéÑ"><div class="item-content"><div class="item-date">Mi√©rcoles, 24 de Dic</div><p class="item-description">Celebraci√≥n de Nochebuena üéÖ</p></div></div>
            <div class="timeline-item festivo-item" data-icon="üéÅ"><div class="item-content"><div class="item-date">Jueves, 25 de Dic</div><p class="item-description">D√≠a de Navidad üåü</p></div></div>
            <div class="timeline-item" data-icon="üìç"><div class="item-content"><div class="item-date">Viernes, 26 de Dic</div><p class="item-description tbd">Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="üìç"><div class="item-content"><div class="item-date">S√°bado, 27 de Dic</div><p class="item-description tbd">Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="üìç"><div class="item-content"><div class="item-date">Domingo, 28 de Dic</div><p class="item-description tbd">Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="üìç"><div class="item-content"><div class="item-date">Lunes, 29 de Dic</div><p class="item-description tbd">Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="üìç"><div class="item-content"><div class="item-date">Martes, 30 de Dic</div><p class="item-description tbd">Planes por determinar.</p></div></div>
            <div class="timeline-item festivo-item" data-icon="üéâ"><div class="item-content"><div class="item-date">Mi√©rcoles, 31 de Dic</div><p class="item-description">Celebraci√≥n de Fin de A√±o ü•Ç</p></div></div>
            
            <h2>Enero 2026</h2>
            
            <div class="timeline-item festivo-item" data-icon="ü•Ç"><div class="item-content"><div class="item-date">Jueves, 1 de Ene</div><p class="item-description">D√≠a de A√±o Nuevo. Descanso. üéâ</p></div></div>
            <div class="timeline-item" data-icon="üìç"><div class="item-content"><div class="item-date">Viernes, 2 de Ene</div><p class="item-description tbd">Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="üõ¨"><div class="item-content"><div class="item-date">S√°bado, 3 de Ene</div><p class="item-description"><strong>PM:</strong> Llegada de Ron y Anyela a Medell√≠n desde USA.</p></div></div>
            <div class="timeline-item" data-icon="üë®‚Äçüë©‚Äçüëß‚Äçüë¶"><div class="item-content"><div class="item-date">Domingo, 4 de Ene</div><p class="item-description">Primer encuentro familiar. Almuerzo (hora por definir).</p></div></div>
            <div class="timeline-item" data-icon="üìç"><div class="item-content"><div class="item-date">Lunes, 5 de Ene</div><p class="item-description tbd">Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="üèôÔ∏è"><div class="item-content"><div class="item-date">Martes, 6 de Ene</div><p class="item-description">Tiempo para explorar Medell√≠n.</p></div></div>
            <div class="timeline-item" data-icon="üèôÔ∏è"><div class="item-content"><div class="item-date">Mi√©rcoles, 7 de Ene</div><p class="item-description">Tiempo para explorar Medell√≠n.</p></div></div>
            <div class="timeline-item" data-icon="üöå"><div class="item-content"><div class="item-date">Jueves, 8 de Ene</div><p class="item-description"><strong>AM:</strong> Tiempo para explorar en Medellin.<br><strong>PM:</strong> Salida - Bus - Rosita, Yazmin, Nathan, Yedinson, Daniel, Cristina, etc. para Algeciras.</p></div></div>
            <div class="timeline-item" data-icon="‚òÄÔ∏è"><div class="item-content"><div class="item-date">Viernes, 9 de Ene</div><p class="item-description"><strong>AM:</strong> Llegada del grupo en bus a Algeciras.</p></div></div>
            <div class="timeline-item" data-icon="‚õ∞Ô∏è"><div class="item-content"><div class="item-date">S√°bado, 10 de Ene</div><p class="item-description tbd">D√≠a en Algeciras. Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="‚õ∞Ô∏è"><div class="item-content"><div class="item-date">Domingo, 11 de Ene</div><p class="item-description tbd">D√≠a en Algeciras. Planes por determinar.</p></div></div>
            <div class="timeline-item festivo-item" data-icon="üéä"><div class="item-content"><div class="item-date">Lunes, 12 de Ene</div><p class="item-description">D√≠a en Algeciras (D√≠a Festivo üéä). Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="‚õ∞Ô∏è"><div class="item-content"><div class="item-date">Martes, 13 de Ene</div><p class="item-description tbd">D√≠a en Algeciras. Planes por determinar.</p></div></div>
            <div class="timeline-item" data-icon="üöå"><div class="item-content"><div class="item-date">Mi√©rcoles, 14 de Ene</div><p class="item-description"><strong>PM:</strong> Salida - Bus - Rosita, Yazmin, Yedinson, Daniel, Cristina, etc. para Medellin.</p></div></div>
            <div class="timeline-item" data-icon="üöå‚úàÔ∏è"><div class="item-content"><div class="item-date">Jueves, 15 de Ene</div><p class="item-description"><strong>AM:</strong> Llegada - Bus - De la Familia a Medellin, que viaja desde la noche anterior.<br><strong>PM:</strong> Salida y llegada - Vuelo - Ron, Anyela y Nathan para Medellin.</p></div></div>
            <div class="timeline-item" data-icon="üß≥"><div class="item-content"><div class="item-date">Viernes, 16 de Ene</div><p class="item-description">√öltimo d√≠a. Descanso y empacar.</p></div></div>
            <div class="timeline-item" data-icon="üõ´"><div class="item-content"><div class="item-date">S√°bado, 17 de Ene</div><p class="item-description"><strong>AM:</strong> Salida del resto del grupo desde Medell√≠n a USA. Fin del viaje.</p><div class="flight-tracker"><h4><span class="live-indicator"></span>Seguimiento de Vuelos en Vivo:</h4><div class="flight-buttons"><div class="flight-info"><a href="https://es.flightaware.com/live/flight/CMP209" target="_blank" class="flight-button">‚úàÔ∏è Ver Vuelo CM209</a><span class="flight-route">Medell√≠n ‚Üí Panam√°</span></div><div class="flight-info"><a href="https://es.flightaware.com/live/flight/CMP715" target="_blank" class="flight-button">‚úàÔ∏è Ver Vuelo CM715</a><span class="flight-route">Panam√° ‚Üí Austin</span></div></div></div></div></div>
        </div>

        <div class="info-cards-container">
            <h2>Informaci√≥n Adicional</h2>
            <div class="info-card"><h3>üìù Notas Importantes</h3><ul><li><strong>¬°PRIVADO!</strong> Maria Helena, Yedinson, y Yazmin ya saben.</li><li>Maria Helena, Yedinson, y/o Yazmin no est√°n confirmados.</li><li>Faber, Yisela, y Rosita no saben absolutamente nada.</li></ul></div>
            <div class="info-card"><h3>üé≤ Actividades Planeadas</h3><ul><li>Bingo</li><li>Regalos con la letra "V" de un valor de $10,000 pesos</li><li>Scavenger Hunt (B√∫squeda del tesoro)</li><li>Pictionary</li></ul></div>
        </div>
    </div>
    
    <script>
        // --- MOSTRAR FECHA DE √öLTIMA ACTUALIZACI√ìN ---
        const lastUpdatedElement = document.getElementById('last-updated-date');
        if (document.lastModified) {
            const lastModifiedDate = new Date(document.lastModified);
            const options = { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: '2-digit', timeZoneName: 'short' };
            lastUpdatedElement.textContent = new Intl.DateTimeFormat('es-CO', options).format(lastModifiedDate);
        }

        // --- L√ìGICA DE LOS CONTADORES ---
        const cardNathan = document.getElementById('card-nathan');
        const cardRonAnyela = document.getElementById('card-ron-anyela');
        const createTimerHTML = (title, arrivalDate, idPrefix) => `<h3>${title}</h3><p class="arrival-date">${arrivalDate}</p><div class="timer" id="countdown-${idPrefix}"><div class="time-block"><span id="${idPrefix}-days">‚Ä¶</span><span>D√≠as</span></div><div class="time-block"><span id="${idPrefix}-hours">‚Ä¶</span><span>Hrs</span></div><div class="time-block"><span id="${idPrefix}-minutes">‚Ä¶</span><span>Min</span></div><div class="time-block"><span id="${idPrefix}-seconds">‚Ä¶</span><span>Seg</span></div></div>`;
        cardNathan.innerHTML = createTimerHTML('Nathan llega en:', 'S√°b, 13 de Diciembre, 2025', 'nathan');
        cardRonAnyela.innerHTML = createTimerHTML('Anyela y Ron llegan en:', 'S√°b, 3 de Enero, 2026', 'ron-anyela');
        const nathanTargetUTC = new Date('2025-12-14T03:30:00Z').getTime();
        const ronAnyelaTargetUTC = new Date('2026-01-04T03:30:00Z').getTime();
        async function initializeClocks() {
            try {
                const response = await fetch('https://worldtimeapi.org/api/timezone/Etc/UTC');
                if (!response.ok) throw new Error('Error de red');
                const data = await response.json();
                let now_utc_from_api = new Date(data.utc_datetime).getTime();
                setInterval(() => {
                    const distanceNathan = nathanTargetUTC - now_utc_from_api;
                    if (distanceNathan > 0) {
                        document.getElementById('nathan-days').innerText = Math.floor(distanceNathan / (1000 * 60 * 60 * 24));
                        document.getElementById('nathan-hours').innerText = Math.floor((distanceNathan % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        document.getElementById('nathan-minutes').innerText = Math.floor((distanceNathan % (1000 * 60 * 60)) / (1000 * 60));
                        document.getElementById('nathan-seconds').innerText = Math.floor((distanceNathan % (1000 * 60)) / 1000);
                    } else if (cardNathan.innerHTML.indexOf("aqu√≠") === -1) {
                        cardNathan.innerHTML = "<h3>¬°Ya est√°n aqu√≠!</h3>";
                    }
                    const distanceRonAnyela = ronAnyelaTargetUTC - now_utc_from_api;
                     if (distanceRonAnyela > 0) {
                        document.getElementById('ron-anyela-days').innerText = Math.floor(distanceRonAnyela / (1000 * 60 * 60 * 24));
                        document.getElementById('ron-anyela-hours').innerText = Math.floor((distanceRonAnyela % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        document.getElementById('ron-anyela-minutes').innerText = Math.floor((distanceRonAnyela % (1000 * 60 * 60)) / (1000 * 60));
                        document.getElementById('ron-anyela-seconds').innerText = Math.floor((distanceRonAnyela % (1000 * 60)) / 1000);
                    } else if (cardRonAnyela.innerHTML.indexOf("aqu√≠") === -1) {
                        cardRonAnyela.innerHTML = "<h3>¬°Ya est√°n aqu√≠!</h3>";
                    }
                    now_utc_from_api += 1000;
                }, 1000);
            } catch (error){
                console.error('Fallo al obtener la hora:', error);
                cardNathan.innerHTML = '<h3>Error de conexi√≥n</h3>';
                cardRonAnyela.innerHTML = '<h3>Error de conexi√≥n</h3>';
            }
        }
        
        // --- L√ìGICA DEL CLIMA Y HORA LOCAL ---
        async function loadWeatherWidgets() {
            const austin = { lat: 30.27, lon: -97.74, tz: 'America/Chicago', name: 'Austin, TX', el: document.getElementById('weather-austin') };
            const medellin = { lat: 6.25, lon: -75.58, tz: 'America/Bogota', name: 'Medell√≠n', el: document.getElementById('weather-medellin') };
            const getWeatherIcon = (code) => {
                if (code <= 1) return '‚òÄÔ∏è'; if (code === 2) return 'üå•Ô∏è'; if (code === 3) return '‚òÅÔ∏è';
                if (code >= 51 && code <= 67) return 'üåßÔ∏è'; if (code >= 71 && code <= 77) return '‚ùÑÔ∏è'; if (code >= 80 && code <= 82) return 'üå¶Ô∏è';
                if (code >= 95 && code <= 99) return '‚õàÔ∏è'; return 'üåç';
            };
            const updateCity = async (city) => {
                try {
                    const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${city.lat}&longitude=${city.lon}&current=temperature_2m,weather_code&timezone=${city.tz}`);
                    const data = await response.json();
                    const temp = Math.round(data.current.temperature_2m);
                    const icon = getWeatherIcon(data.current.weather_code);
                    const update = () => {
                        const time = new Intl.DateTimeFormat('es-CO', { timeZone: city.tz, hour: '2-digit', minute: '2-digit', hour12: true }).format(new Date());
                        city.el.innerHTML = `<p class="city">${city.name}</p><p class="time">${time}</p><div class="details"><span class="icon">${icon}</span><span class="temp">${temp}¬∞C</span></div>`;
                    };
                    update();
                    setInterval(update, 60000);
                } catch (error) { city.el.innerHTML = 'Error al cargar clima'; }
            };
            updateCity(austin);
            updateCity(medellin);
        }
        
        initializeClocks();
        loadWeatherWidgets();
    </script>
</body>
</html>
